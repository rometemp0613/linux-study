# Chapter 4: Manipulating Files and Directories

## 핵심 명령어

| 명령어 | 기능 |
|--------|------|
| `mkdir` | 디렉토리 생성 |
| `cp` | 복사 |
| `mv` | 이동/이름변경 |
| `rm` | 삭제 |
| `ln` | 링크 생성 |

---

## 와일드카드 (Wildcards)

| 와일드카드 | 의미 | 예시 |
|------------|------|------|
| `*` | 모든 문자 (0개 이상) | `*.txt` |
| `?` | 정확히 1개 문자 | `file?.txt` |
| `[abc]` | 괄호 안 문자 중 하나 | `file[123].txt` |
| `[!abc]` | 괄호 안 문자 제외 | `file[!0-9].txt` |
| `[[:class:]]` | 문자 클래스 | `[[:upper:]]*` |

### 문자 클래스

`[[:class:]]` 형태로 사용하는 특수 와일드카드.

#### 왜 문자 클래스를 쓸까?

```bash
ls [A-Z]*        # 대문자로 시작하는 파일
```

이것도 되지만, 로케일(언어 설정)에 따라 결과가 달라질 수 있음.
문자 클래스는 어떤 시스템에서든 일관되게 동작:

```bash
ls [[:upper:]]*  # 대문자로 시작하는 파일 (확실함)
```

#### 주요 문자 클래스

| 클래스 | 의미 | 동등한 표현 |
|--------|------|-------------|
| `[[:alnum:]]` | 알파벳 + 숫자 | `[A-Za-z0-9]` |
| `[[:alpha:]]` | 알파벳 | `[A-Za-z]` |
| `[[:digit:]]` | 숫자 | `[0-9]` |
| `[[:lower:]]` | 소문자 | `[a-z]` |
| `[[:upper:]]` | 대문자 | `[A-Z]` |
| `[[:space:]]` | 공백 문자 | 스페이스, 탭 등 |
| `[[:punct:]]` | 구두점 | `!@#$%` 등 |

#### 사용 예시

```bash
ls [[:upper:]]*              # 대문자로 시작하는 파일
# 예: Desktop, Documents, Downloads

ls *[[:digit:]]*             # 숫자가 포함된 파일
# 예: file1.txt, test2.py, log2024.txt

ls [[:alpha:]]*              # 알파벳으로 시작하는 파일
# 예: hello.txt (O), 123.txt (X)

ls [[:digit:]][[:digit:]]*   # 숫자 두 개로 시작하는 파일
# 예: 01_intro.txt, 99_final.txt

ls [[:upper:][:digit:]]*     # 대문자 또는 숫자로 시작
# 예: README.md, 404.html
```

---

## mkdir - 디렉토리 생성

```bash
mkdir dir1 dir2 dir3          # 여러 개 생성
mkdir -p parent/child/grandchild  # 중첩 디렉토리 생성
```

| 옵션 | 의미 |
|------|------|
| `-p` | 부모 디렉토리도 함께 생성 |

---

## cp - 복사

```bash
cp file1 file2                # 파일 복사
cp file1 dir1/                # 디렉토리로 복사
cp -r dir1 dir2               # 디렉토리 전체 복사
```

| 옵션 | 의미 |
|------|------|
| `-i` | 덮어쓰기 전 확인 (interactive) |
| `-r` | 디렉토리 전체 복사 (recursive) |
| `-u` | 더 최신인 파일만 복사 (update) |
| `-v` | 진행 상황 표시 (verbose) |

**참고**: `-r` 없이는 디렉토리 복사 불가 (에러 발생)

---

## mv - 이동/이름변경

```bash
mv file1 file2                # 이름 변경
mv file1 dir1/                # 디렉토리로 이동
mv dir1 dir2                  # 디렉토리 이름 변경 또는 이동
```

| 옵션 | 의미 |
|------|------|
| `-i` | 덮어쓰기 전 확인 |
| `-u` | 더 최신인 파일만 이동 |
| `-v` | 진행 상황 표시 |

---

## rm - 삭제

```bash
rm file1                      # 파일 삭제
rm -r dir1                    # 디렉토리 전체 삭제
rm -rf dir1                   # 강제 삭제 (주의!)
```

| 옵션 | 의미 |
|------|------|
| `-i` | 삭제 전 확인 |
| `-r` | 디렉토리 전체 삭제 (recursive) |
| `-f` | 강제 삭제, 경고 없음 (force) |
| `-v` | 진행 상황 표시 |

**주의**: 리눅스는 휴지통이 없음! 삭제 전 `ls`로 확인 권장

---

## ln - 링크 생성

```bash
ln file1 file1-hard           # 하드 링크
ln -s file1 file1-sym         # 심볼릭 링크
```

| 옵션 | 의미 |
|------|------|
| `-s` | 심볼릭 링크 생성 (symbolic) |

### 하드 링크 vs 심볼릭 링크

| | 하드 링크 | 심볼릭 링크 |
|---|----------|-------------|
| 원본 삭제 시 | 데이터 유지 | 링크 깨짐 |
| 디렉토리 | 불가 | 가능 |
| 다른 디스크 | 불가 | 가능 |
| 디스크 용량 | 추가 없음 | 추가 없음 |

### 하드 링크 vs 복사 (cp)

| | cp (복사) | ln (하드링크) |
|---|----------|---------------|
| 데이터 | 새로 복제 | 같은 데이터 공유 |
| 디스크 용량 | 2배 사용 | 추가 없음 |
| 수정 시 | 각자 따로 | 둘 다 같이 바뀜 |
